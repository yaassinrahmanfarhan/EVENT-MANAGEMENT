{% extends "base.html" %}
{% load custom_filters %}
{% load static %}
{% block title %}User Profile{% endblock title %}
{% block tasks %}

<div class="bg-gradient-to-r from-gray-100 via-gray-50 to-white min-h-screen">
  <div class="flex flex-col md:flex-row min-h-screen">
    
    <!-- Sidebar -->
    <aside class="w-full md:w-64 bg-white shadow-xl rounded-b-lg md:rounded-none md:rounded-r-lg p-6">
      <h2 class="text-2xl font-bold text-gray-800 border-b pb-2">Menu</h2>
      <nav class="mt-6 space-y-2">
        <a href="{% url 'profile' %}" 
           class="flex items-center px-4 py-2 rounded-lg bg-indigo-100 text-indigo-800 font-medium hover:bg-indigo-200 transition">
          <i class="fas fa-user mr-2"></i> Profile
        </a>
        <a href="{% url 'edit_profile' %}" 
           class="flex items-center px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition">
          <i class="fas fa-edit mr-2"></i> Edit Profile
        </a>
        <a href="{% url 'password_change' %}" 
           class="flex items-center px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition">
          <i class="fas fa-lock mr-2"></i> Change Password
        </a>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-6 md:p-10">
      <h1 class="text-4xl font-extrabold text-gray-800 mb-8">Your Profile</h1>

      <div class="bg-white shadow-lg rounded-2xl p-8 transition transform hover:scale-[1.01]">
        
        <!-- Profile Header -->
        <div class="flex flex-col sm:flex-row items-center sm:items-start sm:space-x-6">
          <img src="{% if profile_image %}{{ profile_image.url }}{% else %}{% static 'profile_images/default-image.jpg' %}{% endif %}"
               class="w-28 h-28 rounded-full object-cover border-4 border-indigo-200 shadow-sm" />
          <div class="mt-4 sm:mt-0 text-center sm:text-left">
            <h2 class="text-3xl font-semibold text-gray-800">{{ name }}</h2>
            <p class="text-gray-500">{{ username }}</p>
          </div>
        </div>

        <!-- Info Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
          <!-- Personal Information -->
          <div>
            <h3 class="text-lg font-bold text-indigo-600 mb-3">Personal Information</h3>
            <div class="space-y-2 text-gray-700">
              <p><span class="font-semibold">Email:</span> {{ email }}</p>
              <p><span class="font-semibold">Phone:</span> {{ phone_number|default:"Not provided" }}</p>
            </div>
          </div>

          <!-- Account Information -->
          <div>
            <h3 class="text-lg font-bold text-indigo-600 mb-3">Account Details</h3>
            <div class="space-y-2 text-gray-700">
              <p><span class="font-semibold">Member Since:</span> {{ member_since|humanized_date }}</p>
              <p><span class="font-semibold">Last Login:</span> {{ last_login|humanized_date }}</p>
            </div>
          </div>
        </div>

        <!-- Bio -->
        <div class="mt-8">
          <h3 class="text-lg font-bold text-indigo-600 mb-3">Bio</h3>
          <p class="text-gray-600 leading-relaxed">{{ bio|default:"No bio available." }}</p>
        </div>
      </div>
    </main>
  </div>
</div>

<!-- Font Awesome Icons -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

{% endblock tasks %}
