{% extends "base.html" %}

{% block title %}{{ form.instance.pk|yesno:"Edit Group,Add Group" }}{% endblock title %}

{% block tasks %}
<section class="py-12 px-6 max-w-3xl mx-auto text-black">
    <h1 class="text-3xl font-bold text-white mb-6">
        {{ form.instance.pk|yesno:"Edit Group,Add Group" }}
    </h1>

    <form method="post" class="bg-white bg-opacity-90 p-8 rounded-lg shadow-lg">
        {% csrf_token %}
        {{ form.non_field_errors }}

        <!-- Group Name -->
        <div class="mb-4">
            <label class="block text-gray-700 font-semibold mb-2">
                {{ form.name.label }}
            </label>
            {{ form.name }}
            {% if form.name.help_text %}
                <p class="text-gray-500 text-xs">{{ form.name.help_text }}</p>
            {% endif %}
            {% if form.name.errors %}
                <p class="text-red-500 text-sm mt-1">{{ form.name.errors|join:", " }}</p>
            {% endif %}
        </div>

        <!-- Permissions Section -->
        <div class="mb-4">
            <label class="block text-gray-700 font-semibold mb-2">
                {{ form.permissions.label }}
            </label>
            <div class="grid grid-cols-2 gap-2 max-h-64 overflow-y-auto border p-3 rounded bg-gray-50">
                {% for checkbox in form.permissions %}
                    <div class="flex items-center space-x-2">
                        {{ checkbox.tag }}
                        <label class="text-gray-700">{{ checkbox.choice_label }}</label>
                    </div>
                {% endfor %}
            </div>
            {% if form.permissions.help_text %}
                <p class="text-gray-500 text-xs mt-1">{{ form.permissions.help_text }}</p>
            {% endif %}
            {% if form.permissions.errors %}
                <p class="text-red-500 text-sm mt-1">{{ form.permissions.errors|join:", " }}</p>
            {% endif %}
        </div>

        <!-- Save Button -->
        <button type="submit"
                class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded">
            Save
        </button>
    </form>
</section>
{% endblock tasks %}
